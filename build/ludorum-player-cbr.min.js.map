{"version":3,"sources":["../src/__prologue__.js","../src/CBRDatabase.js","../src/CBRPlayer.js","../src/__epilogue__.js"],"names":["__init__","base","Sermat","ludorum","declare","raiseIf","raise","Randomness","Iterable","iterable","Future","exports","__package__","__name__","__dependencies__","__SERMAT__","include","CBRDatabase","constructor","params","cdb","this","cases","index","map","_case","i","___caseKey__","toObject","featureFunction","maxDistance","Infinity","totalCount","count","sum","join","features","game","moves","addCase","results","caseKey","caseIndex","slice","length","push","result","mapApply","p","r","addMatch","match","history","events","on","g","ms","fs","run","then","forEach","addMatches","matches","sequence","addRandomMatches","n","range","players","RandomPlayer","playTo","addMatchesBetween","matchups","product","apply","repeat","toArray","Math","ceil","Match","distance","gameFeatures","caseFeatures","zip","gf","cf","abs","knn","cs","sort","c1","c2","static __SERMAT__","identifier","serializer","obj","CBRPlayer","Player","call","caseDB","caseN","evaluatedMoves","role","movesFor","move","d","caseMove","em","Object","values","decision","bestMoves","greater","t","DEFAULT","choice","assess","player","cbrPlayer","evaluation"],"mappings":"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","file":"ludorum-player-cbr.min.js"}